<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/favicon.ico" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>A buildout nano-framework for building Plone 4 sites | Mosaico (Blog de Noe Nieto)</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="A buildout nano-framework for building Plone 4 sites" />
<meta name="author" content="Noe Nieto" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We are rolling out our 6th Plone deployment and I wanted to adopt the most standard way of rolling our backups. After some tinkering, I came up with, what I call a nano-framework for buildout configuration." />
<meta property="og:description" content="We are rolling out our 6th Plone deployment and I wanted to adopt the most standard way of rolling our backups. After some tinkering, I came up with, what I call a nano-framework for buildout configuration." />
<link rel="canonical" href="http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html" />
<meta property="og:url" content="http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html" />
<meta property="og:site_name" content="Mosaico (Blog de Noe Nieto)" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-03-13T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="A buildout nano-framework for building Plone 4 sites" />
<meta name="twitter:site" content="@misaelnieto_a" />
<meta name="twitter:creator" content="@Noe Nieto" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Noe Nieto"},"dateModified":"2011-03-13T00:00:00+00:00","datePublished":"2011-03-13T00:00:00+00:00","description":"We are rolling out our 6th Plone deployment and I wanted to adopt the most standard way of rolling our backups. After some tinkering, I came up with, what I call a nano-framework for buildout configuration.","headline":"A buildout nano-framework for building Plone 4 sites","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html"},"url":"http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html"}</script>
<!-- End Jekyll SEO tag -->

    
<script>if(!sessionStorage.getItem("_swa")&&document.referrer.indexOf(location.protocol+"//"+location.host)!== 0){fetch("https://counter.dev/track?"+new URLSearchParams({referrer:document.referrer,screen:screen.width+"x"+screen.height,user:"nnieto",utcoffset:"-7"}))};sessionStorage.setItem("_swa","1");</script>
<!-- head scripts --></head>

  <body>
    
<nav class="navbar is-primary" >
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                Mosaico (Blog de Noe Nieto)
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu">
            <div class="navbar-start">
                
                
                    
                    <a href="/posts" class="navbar-item ">Posts archive</a>
                    
                
                    
                    <a href="/demos" class="navbar-item ">Demos, Tools & Toys</a>
                    
                
                    
                    <a href="https://www.noenieto.com/" class="navbar-item ">About me</a>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-medium  is-bold is-primary" >
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">A buildout nano-framework for building Plone 4 sites</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-12">
                    
                    
                    
                    
                    <div class="content">

    <p>Published: Mar 13, 2011 by Noe Nieto</p>

    

    <p>We are rolling out our 6th Plone deployment and I wanted to adopt the most
standard way of rolling our backups. After some tinkering, I came up with,
what I call a nano-framework for buildout configuration.</p>

<p>As I stated above, we are rolling our 6th Plone 4 deployment. On the very
first deployments, we have tried very different backup strategies and lately
we adopted the “no backup at all” strategy as it was the easiest one to do.
(sigh!) We have been very lucky so far, but we will not forever. So I tried to
group all the buildout tricks I have learned in the last two years and put
together this buildout system.</p>

<p>This all started with me worrying about backups, so I started looking around
until I found some guidelines. The recommended way to backup Plone is by using
repozo and a set of associated recipes for buildout. But Plone 4 also uses
plone.app.blob by default and on the #plone irc channel I was recommended two
readings:</p>

<ul>
  <li><a href="http://stackoverflow.com/questions/451952/what-is-the-correct-way-to-backup-zodb-blobs">http://stackoverflow.com/questions/451952/what-is-the-correct-way-to-backup-zodb-blobs</a></li>
  <li><a href="http://plone.293351.n2.nabble.com/backup-of-blobstorage-in-collective-recipe-backup-td5411264.html">http://plone.293351.n2.nabble.com/backup-of-blobstorage-in-collective-recipe-backup-td5411264.html</a></li>
</ul>

<p>Based on that, and after some months of testing, I finally arrived to craft a
nano framework based on buildout. I’ll describe them so anyone, even me, can
understand this stuff after some months have passed.:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">buildout.cfg</code>: This file does not exists. I deleted it. It can be created by symlinking to another file. You should run bin/buildout-c file.cfg instead.</li>
  <li><code class="language-plaintext highlighter-rouge">base.cfg</code>: Base configuration file. It defines the Plone version and the base settings for one plone instance. It also adds support for Diazo/Xdv</li>
  <li><code class="language-plaintext highlighter-rouge">development.cfg</code>: Extends base.cfg and adds support for mr.developer or omelette.</li>
  <li><code class="language-plaintext highlighter-rouge">deployment.cfg</code>: Extends base.cfg and adds ZEO, one more Plone instance for debugging, automatic apache configuration generation, supervisor, maintenance and backup scripts.</li>
  <li><code class="language-plaintext highlighter-rouge">custom-set</code>tings.cfg: This file gets included in the aforementioned config files. It contains all the definitions that makes this buildout unique. You also list the extra Plone librearies you want to use here.</li>
  <li><code class="language-plaintext highlighter-rouge">versions.cfg</code>: Pinned down versions of python packages.</li>
  <li><code class="language-plaintext highlighter-rouge">password.cfg</code>: User and password for zope admin.</li>
</ul>

<p>If you want to take a look at the config files of this nano_buildout, I
upladed one to github, so you can get a copy of it.</p>

<p><a href="https://github.com/tzicatl/Plone-4-nano-buildout-framework">https://github.com/tzicatl/Plone-4-nano-buildout-framework</a></p>

<p>I’d love to have some feedback.</p>

</div>

<div class="tags">
    
</div>


<p><strong>Share</strong></p>
<div class="buttons ">
    <a class="button is-medium is-facebook"
       onclick="window.open('https://www.facebook.com/share.php?u=http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html');">
        <span class="icon"><i class="fab fa-facebook fa-lg"></i></span>
    </a>
    <a class="button is-medium is-twitter"
       onclick="window.open('https://twitter.com/intent/tweet?text=http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html');">
        <span class="icon"><i class="fab fa-twitter fa-lg"></i></span>
    </a>
    <a class="button is-medium is-linkedin"
       onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html&title=A+buildout+nano-framework+for+building+Plone+4+sites&summary=&source=');">
        <span class="icon"><i class="fab fa-linkedin fa-lg"></i></span>
    </a>
    <a class="button is-medium is-reddit"
       onclick="window.open('https://reddit.com/submit?url=http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html');">
        <span class="icon"><i class="fab fa-reddit fa-lg"></i></span>
    </a>
</div>



  

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html';
      this.page.identifier = 'http://blog.noenieto.com/2011/03/13/a-buildout-nano-framework-for-building-plone-4-sites.html';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://noenieto.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">
        
        
        <div class="columns is-multiline">
            
        </div>
        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
        </div>
    </div>
</footer>

    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts --></body>
</html>
